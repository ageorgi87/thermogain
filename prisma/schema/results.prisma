// ProjectResults - Calculation results for heat pump profitability
// Stores all calculated values needed to display the results page
// Updated when user completes the wizard or when project data changes

model ProjectResults {
  id        String   @id @default(cuid())
  projectId String   @unique
  project   Project  @relation(fields: [projectId], references: [id], onDelete: Cascade)

  // Year 1 costs
  currentAnnualCost    Float // Current heating cost (year 1)
  heatPumpAnnualCost   Float // PAC cost (year 1)
  annualSavings        Float // Annual savings (year 1)
  consommationPacKwh   Float // PAC annual electricity consumption (kWh/year)

  // Monthly costs
  currentMonthlyCost   Float // Current monthly heating cost
  heatPumpMonthlyCost  Float // PAC monthly cost
  monthlySavings       Float // Monthly savings

  // ROI (Return on Investment)
  paybackPeriod       Float? // Payback period in years (null if never breaks even)
  paybackYear         Int?   // Calendar year when investment is recovered

  // Total lifetime gains (over PAC lifespan)
  totalSavingsLifetime   Float  // Total savings over PAC lifetime
  netBenefitLifetime     Float  // Net benefit (savings - investment)
  profitabilityRate      Float? // Average annual return rate in %

  // Total lifetime costs
  totalCurrentCostLifetime Float // Total current heating cost over PAC lifetime
  totalHeatPumpCostLifetime Float // Total PAC cost (investment + electricity) over PAC lifetime

  // Financing
  monthlyLoanPayment     Float? // Monthly credit payment (if financed)
  totalLoanCost          Float? // Total credit cost with interest
  actualInvestment       Float  // Real investment including credit interest

  // Yearly data (JSON array of YearlyData objects)
  // Structure: [{ year, currentCost, heatPumpCost, savings, cumulativeSavings }, ...]
  yearlyData Json

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
